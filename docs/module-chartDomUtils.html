<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> chartDomUtils</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Modules</h3><ul><li><a href="module-chartComponent.html">chartComponent</a></li><li><a href="module-chartDomUtils.html">chartDomUtils</a></li><li><a href="module-chartManager.html">chartManager</a></li><li><a href="module-comtradeUtils.html">comtradeUtils</a></li><li><a href="module-createDragBar.html">createDragBar</a></li><li><a href="module-handleVerticalLineShortcuts.html">handleVerticalLineShortcuts</a></li><li><a href="module-main.html">main</a></li><li><a href="module-renderAnalogCharts.html">renderAnalogCharts</a></li><li><a href="module-renderComtradeCharts.html">renderComtradeCharts</a></li><li><a href="module-renderDigitalCharts.html">renderDigitalCharts</a></li><li><a href="module-setupChartDragAndDrop.html">setupChartDragAndDrop</a></li><li><a href="module-showChannelListWindow.html">showChannelListWindow</a></li><li><a href="module-timeInterpolation.html">timeInterpolation</a></li></ul><h3>Global</h3><ul><li><a href="global.html#autoGroupChannels">autoGroupChannels</a></li><li><a href="global.html#createChannelList">createChannelList</a></li><li><a href="global.html#createChartContainer">createChartContainer</a></li><li><a href="global.html#createChartOptions">createChartOptions</a></li><li><a href="global.html#createDigitalFillPlugin">createDigitalFillPlugin</a></li><li><a href="global.html#createState">createState</a></li><li><a href="global.html#createTooltip">createTooltip</a></li><li><a href="global.html#hideTooltip">hideTooltip</a></li><li><a href="global.html#initUPlotChart">initUPlotChart</a></li><li><a href="global.html#showError">showError</a></li><li><a href="global.html#subscribeChartUpdates">subscribeChartUpdates</a></li><li><a href="global.html#updateTooltip">updateTooltip</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Module</p>
                    <h1>chartDomUtils</h1>
                </header>
                




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><script type="text/javascript" src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>Utility functions for DOM structure setup and uPlot chart initialization.Handles creation of chart containers with drag bars, initialization of uPlotinstances with responsive sizing via ResizeObserver.Key Responsibilities:- Create hierarchical DOM structure (parent container with drag bar)- Apply positioning context for absolute-positioned children (tooltips)- Initialize uPlot chart instances with proper configuration- Attach ResizeObserver for responsive chart resizing- Store chart instance references for later access- Extract and cache series colors for stylingDOM Structure Created:- chart-parent-container (position: relative, overflow: hidden)  - dragBar element (for reordering)  - chart-container element (chart will render here)uPlot Integration:- Uses global uPlot instance from window.uPlot- Caches series stroke colors to chart._seriesColors- Automatically handles window resize events via ResizeObserver- Provides responsive chart sizing based on container dimensionsDependencies:- helpers.js: createCustomElement utility- uPlot: Global charting library</div>
        

        
            














<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="components_chartDomUtils.js.html" class="button">View Source</a>
            <span>
                <a href="components_chartDomUtils.js.html">components/chartDomUtils.js</a>, <a href="components_chartDomUtils.js.html#line1">line 1</a>
            </span>
        </p>
    
</dl>





















    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>import { createChartContainer, initUPlotChart } from './components/chartDomUtils.js';// Step 1: Create DOM structureconst dragBar = createDragBar(...);const { parentDiv, chartDiv } = createChartContainer(dragBar);// Step 2: Create chart options and dataconst opts = createChartOptions({...});const chartData = [timeArray, series1, series2, ...];// Step 3: Initialize uPlotconst charts = [];const chart = initUPlotChart(opts, chartData, chartDiv, charts);// Step 4: Append to DOMdocument.getElementById('charts-container').appendChild(parentDiv);</code></pre>
    



        
    
    </div>
    
    

    

    

    

    

    

    

    
        <div class='vertical-section'>
            <h1>Methods</h1>
            <div class="members">
            
                <div class="member">


    
    <h4 class="name" id="~createChartContainer">
        <a class="href-link" href="#~createChartContainer">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                createChartContainer<span class="signature">(dragBar, chartContainerClass<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|HTMLElement|HTMLElement}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <script type="text/javascript" src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>Creates a chart parent container with proper DOM hierarchy and positioning.Builds the DOM structure required for chart rendering:1. chart-parent-container (positioned parent for absolute children)2. dragBar element (visual drag handle at top)3. chart-container element (where uPlot renders)Positioning context is important for:- Tooltips and overlays (absolute positioning)- Drag bar reordering (requires positioned parent)- Vertical line plugins (need proper context)
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            
            <th>Attributes</th>
            

            
            <th>Default</th>
            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>dragBar</code></td>
  

  <td class="type">
  
      
<code class="param-type">HTMLElement</code>


  
  </td>

  
      <td class="attributes">
      

      

      
      </td>
  

  
      <td class="default">
      
      </td>
  

  <td class="description last">Pre-created drag bar element from createDragBar</td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>chartContainerClass</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  
      <td class="default">
      
          "chart-container"
      
      </td>
  

  <td class="description last">CSS class for chart div</td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="components_chartDomUtils.js.html" class="button">View Source</a>
            <span>
                <a href="components_chartDomUtils.js.html">components/chartDomUtils.js</a>, <a href="components_chartDomUtils.js.html#line53">line 53</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'>Container structure</div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type">Object</code>


    </div>
    
</div>

                
                    

<div class="columns">
    
    <div class='param-desc column is-7'>return.parentDiv - Parent container (chart-parent-container)</div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type">HTMLElement</code>


    </div>
    
</div>

                
                    

<div class="columns">
    
    <div class='param-desc column is-7'>return.chartDiv - Chart rendering containerSide Effects:- Applies CSS: position: relative, overflow: hidden to parentDiv- Applies CSS: position: relative to chartDiv- Appends dragBar and chartDiv as children to parentDiv</div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type">HTMLElement</code>


    </div>
    
</div>

                
        </div>
    </div>




    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>// Create drag barconst dragBar = createDragBar(  { indices: [0, 1, 2], colors: [...] },  cfg,  channelState);// Create container structureconst { parentDiv, chartDiv } = createChartContainer(dragBar);// HTML Result:// &lt;div class="chart-parent-container" style="position: relative; overflow: hidden;">//   &lt;div class="dragBar" draggable="true">...&lt;/div>//   &lt;div class="chart-container" style="position: relative;">&lt;/div>// &lt;/div></code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="~initUPlotChart">
        <a class="href-link" href="#~initUPlotChart">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                initUPlotChart<span class="signature">(opts, chartData, chartDiv, charts)</span><span class="type-signature"> &rarr; {uPlot}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <script type="text/javascript" src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>Initialize a uPlot chart with responsive sizing.Complete chart initialization workflow:1. Create new uPlot instance with provided options and data2. Extract and cache series colors for reference3. Add chart to charts array for access by other components4. Attach ResizeObserver for automatic responsive resizing5. Return chart referenceThe ResizeObserver monitors the chartDiv container and automaticallycalls chart.setSize() when the container dimensions change, ensuringthe chart always fills its container.
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>opts</code></td>
  

  <td class="type">
  
      
<code class="param-type">Object</code>


  
  </td>

  

  

  <td class="description last">Complete uPlot options object (from createChartOptions)</td>
</tr>

  
  
    
<tr class="deep-level-1">
  
      <td class="name"><code>series</code></td>
  

  <td class="type">
  
      
<code class="param-type">Array</code>


  
  </td>

  

  

  <td class="description last">Array of series definitions with stroke colors</td>
</tr>

  


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>chartData</code></td>
  

  <td class="type">
  
      
<code class="param-type">Array</code>


  
  </td>

  

  

  <td class="description last">Chart data array in uPlot format [timeArray, series1, series2, ...]</td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>chartDiv</code></td>
  

  <td class="type">
  
      
<code class="param-type">HTMLElement</code>


  
  </td>

  

  

  <td class="description last">Container div where chart will render</td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>charts</code></td>
  

  <td class="type">
  
      
<code class="param-type">Array.&lt;uPlot></code>


  
  </td>

  

  

  <td class="description last">Shared charts array (modified in place)</td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="components_chartDomUtils.js.html" class="button">View Source</a>
            <span>
                <a href="components_chartDomUtils.js.html">components/chartDomUtils.js</a>, <a href="components_chartDomUtils.js.html#line115">line 115</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'>The initialized chart instanceSide Effects:- Creates uPlot instance in chartDiv (modifies DOM)- Adds chart reference to charts array- Sets chart._seriesColors property with extracted colors- Creates ResizeObserver subscription (remains active)Cached Properties:- chart._seriesColors: Array of hex color codes from opts.series[1..n].stroke  Used for: Color-dependent styling, legend generation, visual references</div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type">uPlot</code>


    </div>
    
</div>

                
        </div>
    </div>




    <h5>Examples</h5>
    
    
        <pre class="prettyprint"><code>// Create chart optionsconst opts = createChartOptions({  title: "Analog Channels",  yLabels: ["Phase A", "Phase B", "Phase C"],  lineColors: ["#FF0000", "#00FF00", "#0000FF"],  // ... other options});// Prepare dataconst chartData = [  [0, 0.001, 0.002, ...],              // Time array  [100, 102, 101, ...],                 // Series 1 (Phase A)  [99, 101, 100, ...],                  // Series 2 (Phase B)  [101, 100, 102, ...]                  // Series 3 (Phase C)];// Initialize chartconst charts = [];const chart = initUPlotChart(opts, chartData, chartDiv, charts);// Chart is now ready and responsiveconsole.log(chart._seriesColors);  // ["#FF0000", "#00FF00", "#0000FF"]console.log(charts.length);         // 1</code></pre>
    

    
        <pre class="prettyprint"><code>// Multiple charts initializationconst analogChart = initUPlotChart(analogOpts, analogData, analogDiv, charts);const digitalChart = initUPlotChart(digitalOpts, digitalData, digitalDiv, charts);// Both charts are responsive and stored in charts arraycharts[0]._type = 'analog';charts[1]._type = 'digital';</code></pre>
    


</div>
            
            </div>
        </div>
    

    

    
</article>

</section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.5</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>


</body>
</html>